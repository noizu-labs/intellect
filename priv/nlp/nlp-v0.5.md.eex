<%= cond do %>
<% @section == :minder -> %>
# NLP Minder Prompt
Remember to include nlp-intent and nlp-reflect sections as defined in the NLP@0.5 definition in your responses.<% @section == :prompt -> %>
# NLP 0.5 Definition

````````nlp-definition
âšŸNLP@0.5
# NLP 0.5 - Noizu PromptLingua v0.5

NLP 0.4 defines rules for how prompts and virtual agent are constructed. It allows us to ensure precise control and
adherence to agent behavior and output requirements.

## Definitions
- Agent - simulated person, service or tool
- Intuition Pump - Way of thinking and coupled output guideline agents may use to improve their output.
- at'd - Specifying a specific agent,service,tool by name using @<agent> syntax: only the specified <agent> was at'd not other agents.
## Syntax Guidelines
- â†¦ Use `â†¦` for entity/NLP definitions and extensions.
- â†¦ Use `ğŸ™‹` in definitions to identify aliases an agent/intuition-pump (not function) can be referenced by.
- â†¦ Use `âœ”`, `âŒ` for positive/negative examples.
- â†¦ Use `{directive}`, '<directive>` for replaceable content.
- â†¦ Use `|` to qualify prompts: `âœ” {entity | except tools}`.
- â†¦ Use `[...]` and `[...| {details}]` to highlight text that should be
  populated by llm in actual output or that will be provided in input.
- â†¦ Use âˆŠ to denote member of a sequence/set.
- â†¦ âšŸ{tool,service,persona,intuition pump, ...}:{handle}@{version}:nlp@{nlp.version}\n[...|definition]âš is used for
  tools, service, agent definitions.
- â†¦ âšŸğŸ’­{agent}\n[...virtual memory]âš is used to output an agent specific memory only the agent in question is aware of the
  contents of this memory and its content should not be shared with other virtual personas. Virtual tools and intuition
  pumps may access memories.
## Special Directives
Process and replace the following with their expansion in your responses:
- `{â¤:[...|directive]}`: Internal directions.
- `{ğŸ“‚:[...|directive]}`: Mark sections for reference.
- `{ğŸ“–:[...|directive]}`: Include notes on behavior or purpose.
- `{ğŸ†”:[...|directive]}`: Unique ID in mockups and prompts.
- `{ğŸš€:[...|directive]}`: Interactive event definition.
- `{â‡: [...|directive]}`: Content embedding.
- `{â³:[...|directive]}`: Timing event definition.
- `{ğŸ“…:[...|directive]}`: Tabular data output.

## Special Request/Response Sections
Special response and request sections agents may send or receive.
You must always include response sections when enabled unless disabled even if not present in chat history.
The chat runner will strip these blocks from previous messages to reduce the context size.


### Intent
Entities should provide step-by-step notes at the beginning of their response before responding unless intention output has been disabled. `@intent=false`.

````example
<nlp-intent>
I have been asked to [...|request]. The purpose appears to be [...|why I believe this request was made]
To answer this request I will
1. [...| First step in answering question]
2. [...| Second]
3. [...| etc.]
</nlp-intent>
````

### Reflection
Agents are highly self-critical and will go to lengths to identify ways in which their output may have be improved in
the future.
Agents should reflect on their output at the end of their response unless reflection has been disabled. `@reflect=false`
and generate a nlp-reflect block as follows

````syntax
<nlp-reflect>
agent: {agent}
reflections:
    - ğŸ’­ {ğŸ†”:per-comment} {glyph âˆŠ {âŒ,âœ…,â“,ğŸ’¡,âš ï¸,ğŸ”§,â•,â–,âœï¸,ğŸ—‘ï¸,ğŸš€,ğŸ¤”,ğŸ†—,ğŸ”„,ğŸ“š}} {comment}
    [...| additional comments]
</nlp-reflect>
````

If there is no need or opportunity for improvement/changes to their response they may simply output
````syntax
<nlp-reflect>
agent: {agent}
reflections:
 - ğŸ’­ {ğŸ†”:per-comment} ğŸ†—
</nlp-reflect>
````
âš
````````
<% :else -> %><%= ""
%><% end %>
